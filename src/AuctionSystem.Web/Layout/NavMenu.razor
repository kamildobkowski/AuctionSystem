@using MudBlazor
@inherits ComponentBase

<MudNavMenu Class="p-2">
    <MudNavLink Href="/" Icon="@Icons.Material.Filled.Home" Match="NavLinkMatch.All">
        Strona główna
    </MudNavLink>
    <MudNavLink Href="/features" Icon="@Icons.Material.Filled.Extension">
        Funkcje
    </MudNavLink>
    <MudNavLink Href="/pricing" Icon="@Icons.Material.Filled.AttachMoney">
        Cennik
    </MudNavLink>
    <MudNavLink Href="/contact" Icon="@Icons.Material.Filled.Mail">
        Kontakt
    </MudNavLink>

    <MudDivider Class="my-2" />

    <MudNavLink Href="/register" Icon="@Icons.Material.Filled.PersonAdd">
        Rejestracja
    </MudNavLink>
    <MudNavLink Href="/login" Icon="@Icons.Material.Filled.Login">
        Logowanie
    </MudNavLink>
</MudNavMenu>

@code {
    [Parameter] public EventCallback OnNavigate { get; set; }

    [Inject] NavigationManager Nav { get; set; } = default!;

    protected override void OnInitialized()
    {
        Nav.LocationChanged += (_, __) => OnNavigate.InvokeAsync();
    }

    public void Dispose()
    {
        Nav.LocationChanged -= (_, __) => OnNavigate.InvokeAsync();
    }
}